#*
 * Unless explicitly acquired and licensed from Licensor under another license, the contents of
 * this file are subject to the Reciprocal Public License ("RPL") Version 1.5, or subsequent
 * versions as allowed by the RPL, and You may not copy or use this file in either source code
 * or executable form, except in compliance with the terms and conditions of the RPL
 *
 * All software distributed under the RPL is provided strictly on an "AS IS" basis, WITHOUT
 * WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, AND LICENSOR HEREBY DISCLAIMS ALL SUCH
 * WARRANTIES, INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
 * PARTICULAR PURPOSE, QUIET ENJOYMENT, OR NON-INFRINGEMENT. See the RPL for specific language
 * governing rights and limitations under the RPL.
 *
 * http://opensource.org/licenses/RPL-1.5
 *
 * Copyright 2012-2017 Open Justice Broker Consortium
 *#
 <script type="text/javascript">
 
  $(function() {
  	    		
    var oTable = $("#personSearchRequestTable").DataTable({
		 "pagingType": "full_numbers",
		 "pageLength": 25,
		 stateSave: true,
		 responsive: true, 
		 colReorder: true,
		 "language": {
      		"emptyTable": "No User Authentication Logs Found"
    	 } 
	});
	
	new $.fn.dataTable.FixedHeader( oTable );
	
	$('.userAuthenticationSearchResults').click (function(){
       	xhr = $.get("#springUrl('/auditLogs/userAuthenticationSearchResults')",function(data) {
	        $('#portalContent').html(data);
        }).fail(ojbc.displayFailMessage);
	});
	
  });
    
</script>
	
<div style="padding:10px">
	<nav aria-label="breadcrumb">
		<ol class="breadcrumb">
			<li class="breadcrumb-item"><a href="#springUrl('/portal/index')">Home</a></li>
			<li class="breadcrumb-item"><a href="#" class="auditLink">User Authentication Search Form</a></li>
			<li class="breadcrumb-item"><a href="#" class="userAuthenticationSearchResults">User Authentication Search Results</a></li>
			<li class="breadcrumb-item active" aria-current="page">User Activities</li>
		</ol>
	</nav>

	<table class="table table-striped table-bordered" style="width:100%" id="userDetailTable">
		<thead>
			<tr>
            	<th>USER ACTION</th>
            	<th>FIRST NAME</th>
    	        <th>LAST NAME</th>
	            <th>EMAIL</th>
	            <th>EMPLOYER ORI</th>
	            <th>EMPLOYER NAME</th>
	            <th>TIMESTAMP</th>
            </tr>
		</thead>
		<tbody>
			<tr>
				<td>$!userAuthenticationSearchResponse.userAction</td> 
				<td>$!userAuthenticationSearchResponse.userFirstName</td> 
				<td>$!userAuthenticationSearchResponse.userLastName</td>
				<td>$!userAuthenticationSearchResponse.userEmailAddress</td>
				<td>$!userAuthenticationSearchResponse.employerOri</td>
				<td>$!userAuthenticationSearchResponse.employerName</td>
				<td>$!userAuthenticationSearchResponse.timestamp.format($dateTimeformatter)</td>
            </tr>
		</tbody>
	</table>
	
	<table class="searchResultsTable table table-striped table-bordered nowrap" style="width:100%" id="personSearchRequestTable">
		<thead>
			<tr>
				<th>FIRST NAME</th>
				<th>FIRSTNAME QUALIFIER</th>
				<th>LAST NAME</th>
				<th>LAST NAME QUALIFIER</th>
				<th>TIMESTAMP</th>
			</tr>
		</thead>
		<tbody>
	        #foreach($personSearchRequest in $personSearchRequests)
		        <tr title='$!personSearchRequest.personSearchRequestId'>
		        	<td>$!personSearchRequest.firstName</td>
		        	<td>$!personSearchRequest.firstNameQualifierCode</td>
		        	<td>$!personSearchRequest.lastName</td>
		        	<td>$!personSearchRequest.lastNameQualifierCode</td>
		        	<td>$!personSearchRequest.timestamp.format($dateTimeformatter)</td>
	        	</tr>
	        #end
		</tbody>
	</table> 								
</div>
